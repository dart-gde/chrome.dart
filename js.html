        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>js Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="favicon.ico">
        
        </head>
        <body data-library="js">
        <div class="page">
        <div class="header">
          <a href="index.html"><div class="logo"></div></a>
          <a href="index.html">Dart Documentation</a>
         &rsaquo; <a href="js.html">js</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
<h2><strong>js</strong> library</h2>
<div class="doc"><p>The js.dart library provides simple JavaScript invocation from Dart that
works on both Dartium and on other modern browsers via Dart2JS.</p>
<p>It provides a model based on scoped <a class="crossref" href="js/Proxy.html">Proxy</a> objects.  Proxies give Dart
code access to JavaScript objects, fields, and functions as well as the
ability to pass Dart objects and functions to JavaScript functions.  Scopes
enable developers to use proxies without memory leaks - a common challenge
with cross-runtime interoperation.</p>
<p>The top-level <a class="crossref" href="js.html#context">context</a> getter provides a <a class="crossref" href="js/Proxy.html">Proxy</a> to the global JavaScript
context for the page your Dart code is running on. In the following example:</p>
<pre><code>import 'package:js/js.dart' as js;

void main() {
  js.context.alert('Hello from Dart via JavaScript');
}
</code></pre>
<p>js.context.alert creates a proxy to the top-level alert function in
JavaScript.  It is invoked from Dart as a regular function that forwards to
the underlying JavaScript one. By default, proxies are released when
the currently executing event completes, e.g., when main is completes
in this example.</p>
<p>The library also enables JavaScript proxies to Dart objects and functions.
For example, the following Dart code:</p>
<pre><code>js.context.dartCallback = (x) =&gt; print(x*2);
</code></pre>
<p>defines a top-level JavaScript function 'dartCallback' that is a proxy to
the corresponding Dart function.</p>
<p>Note, parameters and return values are intuitively passed by value for
primitives and by reference for non-primitives. In the latter case, the
references are automatically wrapped and unwrapped as proxies by the library.</p>
<p>This library also allows construction of JavaScripts objects given a <a class="crossref" href="js/Proxy.html">Proxy</a>
to a corresponding JavaScript constructor. For example, if the following
JavaScript is loaded on the page:</p>
<pre><code>function Foo(x) {
  this.x = x;
}

Foo.prototype.add = function(other) {
  return new Foo(this.x + other.x);
}
</code></pre>
<p>then, the following Dart:</p>
<pre><code>var foo = new js.Proxy(js.context.Foo, 42);
var foo2 = foo.add(foo);
print(foo2.x);
</code></pre>
<p>will construct a JavaScript Foo object with the parameter 42, invoke its
add method, and return a <a class="crossref" href="js/Proxy.html">Proxy</a> to a new Foo object whose x field is 84.</p>
<p>See <a href="http://dart-lang.github.com/js-interop/example">samples</a> for more
examples of usage.</p>
<p>See this <a href="http://www.dartlang.org/articles/js-dart-interop">article</a> for
more detailed discussion.</p></div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="context">
<button class="show-code">Code</button>
final <a href="js/Proxy.html">Proxy</a>         <strong>context</strong> <a class="anchor-link"
            href="#context"
            title="Permalink to context">#</a>
        </h4>
        <div class="doc">
<p>A proxy on the global JavaScript context for this page.</p>
<pre class="source">
final Proxy context = new Proxy._(js.context)
</pre>
</div>
</div>
</div>
<div>
<h3>Functions</h3>
<div class="method"><h4 id="array">
<button class="show-code">Code</button>
<a href="js/Proxy.html">Proxy</a> <strong>array</strong>(Iterable data) <a class="anchor-link" href="#array"
              title="Permalink to array">#</a></h4>
<div class="doc">
<p>Converts a Dart <a class="crossref" href="dart_core/Iterable.html">Iterable</a> to a JavaScript array and return a <a class="crossref" href="js/Proxy.html">Proxy</a> to it.</p>
<pre class="source">
Proxy array(Iterable data) =&gt; new Proxy._json(data);
</pre>
</div>
</div>
<div class="method"><h4 id="map">
<button class="show-code">Code</button>
<a href="js/Proxy.html">Proxy</a> <strong>map</strong>(Map data) <a class="anchor-link" href="#map"
              title="Permalink to map">#</a></h4>
<div class="doc">
<p>Converts a Dart map 
<span class="param">data</span> to a JavaScript map and return a <a class="crossref" href="js/Proxy.html">Proxy</a> to it.</p>
<pre class="source">
Proxy map(Map data) =&gt; new Proxy._json(data);
</pre>
</div>
</div>
<div class="method"><h4 id="deleteProperty">
<button class="show-code">Code</button>
void <strong>deleteProperty</strong>(<a href="js/Serializable.html">Serializable</a>&lt;<a href="js/Proxy.html">Proxy</a>&gt; proxy, String name) <a class="anchor-link" href="#deleteProperty"
              title="Permalink to deleteProperty">#</a></h4>
<div class="doc">
<p>Delete the 
<span class="param">name</span> property of 
<span class="param">proxy</span>.</p>
<pre class="source">
void deleteProperty(Serializable&lt;Proxy&gt; proxy, String name) {
 proxy.toJs()._jsObject.deleteProperty(name);
}
</pre>
</div>
</div>
<div class="method"><h4 id="hasProperty">
<button class="show-code">Code</button>
bool <strong>hasProperty</strong>(<a href="js/Serializable.html">Serializable</a>&lt;<a href="js/Proxy.html">Proxy</a>&gt; proxy, String name) <a class="anchor-link" href="#hasProperty"
              title="Permalink to hasProperty">#</a></h4>
<div class="doc">
<p>Check if 
<span class="param">proxy</span> has a 
<span class="param">name</span> property.</p>
<pre class="source">
bool hasProperty(Serializable&lt;Proxy&gt; proxy, String name) =&gt;
   proxy.toJs()._jsObject.hasProperty(name);
</pre>
</div>
</div>
<div class="method"><h4 id="instanceof">
<button class="show-code">Code</button>
bool <strong>instanceof</strong>(<a href="js/Serializable.html">Serializable</a>&lt;<a href="js/Proxy.html">Proxy</a>&gt; proxy, <a href="js/Serializable.html">Serializable</a>&lt;<a href="js/FunctionProxy.html">FunctionProxy</a>&gt; type) <a class="anchor-link" href="#instanceof"
              title="Permalink to instanceof">#</a></h4>
<div class="doc">
<p>Check if 
<span class="param">proxy</span> is instance of 
<span class="param">type</span>.</p>
<pre class="source">
bool instanceof(Serializable&lt;Proxy&gt; proxy, Serializable&lt;FunctionProxy&gt; type) =&gt;
   proxy.toJs()._jsObject.instanceof(type.toJs()._jsObject);
</pre>
</div>
</div>
</div>
<div>
<h3>Abstract Classes</h3>
          <div class="type">
          <h4>
            <a href="js/Serializable.html"><strong>Serializable&lt;T&gt;</strong></a>
          </h4>
          </div>
          
</div>
<div>
<h3>Classes</h3>
          <div class="type">
          <h4>
            <a href="js/FunctionProxy.html"><strong>FunctionProxy</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="js/Proxy.html"><strong>Proxy&lt;T&gt;</strong></a>
          </h4>
          </div>
          
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-11-05 02:20:12.965</div>
        </div>
        <script async src="client-live-nav.js"></script>
        </body></html>
        
